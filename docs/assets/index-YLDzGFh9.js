(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const de=!1,he=(e,t)=>e===t,P=Symbol("solid-proxy"),q=Symbol("solid-track"),Q={equals:he};let z=se;const w=1,T=2,ee={owned:null,cleanups:null,context:null,owner:null};var a=null;let F=null,ye=null,c=null,d=null,b=null,B=0;function ge(e,t){const n=c,s=a,l=e.length===0,i=t===void 0?s:t,r=l?ee:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=l?e:()=>e(()=>G(()=>C(r)));a=r,c=null;try{return O(o,!0)}finally{c=n,a=s}}function pe(e,t){t=t?Object.assign({},Q,t):Q;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=l=>(typeof l=="function"&&(l=l(n.value)),te(n,l));return[Pe.bind(n),s]}function E(e,t,n){const s=ne(e,t,!1,w);I(s)}function Y(e,t,n){z=$e;const s=ne(e,t,!1,w);s.user=!0,b?b.push(s):I(s)}function be(e){return O(e,!1)}function G(e){if(c===null)return e();const t=c;c=null;try{return e()}finally{c=t}}function we(e){return a===null||(a.cleanups===null?a.cleanups=[e]:a.cleanups.push(e)),e}function M(){return c}function Pe(){if(this.sources&&this.state)if(this.state===w)I(this);else{const e=d;d=null,O(()=>N(this),!1),d=e}if(c){const e=this.observers?this.observers.length:0;c.sources?(c.sources.push(this),c.sourceSlots.push(e)):(c.sources=[this],c.sourceSlots=[e]),this.observers?(this.observers.push(c),this.observerSlots.push(c.sources.length-1)):(this.observers=[c],this.observerSlots=[c.sources.length-1])}return this.value}function te(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&O(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],r=F&&F.running;r&&F.disposed.has(i),(r?!i.tState:!i.state)&&(i.pure?d.push(i):b.push(i),i.observers&&le(i)),r||(i.state=w)}if(d.length>1e6)throw d=[],new Error},!1)),t}function I(e){if(!e.fn)return;C(e);const t=B;Ae(e,e.value,t)}function Ae(e,t,n){let s;const l=a,i=c;c=a=e;try{s=e.fn(t)}catch(r){return e.pure&&(e.state=w,e.owned&&e.owned.forEach(C),e.owned=null),e.updatedAt=n+1,ie(r)}finally{c=i,a=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?te(e,s):e.value=s,e.updatedAt=n)}function ne(e,t,n,s=w,l){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:a,context:a?a.context:null,pure:n};return a===null||a!==ee&&(a.owned?a.owned.push(i):a.owned=[i]),i}function _(e){if(e.state===0)return;if(e.state===T)return N(e);if(e.suspense&&G(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<B);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===w)I(e);else if(e.state===T){const s=d;d=null,O(()=>N(e,t[0]),!1),d=s}}function O(e,t){if(d)return e();let n=!1;t||(d=[]),b?n=!0:b=[],B++;try{const s=e();return Se(n),s}catch(s){n||(b=null),d=null,ie(s)}}function Se(e){if(d&&(se(d),d=null),e)return;const t=b;b=null,t.length&&O(()=>z(t),!1)}function se(e){for(let t=0;t<e.length;t++)_(e[t])}function $e(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:_(s)}for(t=0;t<n;t++)_(e[t])}function N(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const l=s.state;l===w?s!==t&&(!s.updatedAt||s.updatedAt<B)&&_(s):l===T&&N(s,t)}}}function le(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=T,n.pure?d.push(n):b.push(n),n.observers&&le(n))}}function C(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const i=l.pop(),r=n.observerSlots.pop();s<l.length&&(i.sourceSlots[r]=s,l[s]=i,n.observerSlots[s]=r)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)C(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)C(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Oe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ie(e,t=a){throw Oe(e)}function j(e,t){return G(()=>e(t||{}))}function ve(e,t,n){let s=n.length,l=t.length,i=s,r=0,o=0,f=t[l-1].nextSibling,u=null;for(;r<l||o<i;){if(t[r]===n[o]){r++,o++;continue}for(;t[l-1]===n[i-1];)l--,i--;if(l===r){const h=i<s?o?n[o-1].nextSibling:n[i-o]:f;for(;o<i;)e.insertBefore(n[o++],h)}else if(i===o)for(;r<l;)(!u||!u.has(t[r]))&&t[r].remove(),r++;else if(t[r]===n[i-1]&&n[o]===t[l-1]){const h=t[--l].nextSibling;e.insertBefore(n[o++],t[r++].nextSibling),e.insertBefore(n[--i],h),t[l]=n[i]}else{if(!u){u=new Map;let g=o;for(;g<i;)u.set(n[g],g++)}const h=u.get(t[r]);if(h!=null)if(o<h&&h<i){let g=r,R=1,X;for(;++g<l&&g<i&&!((X=u.get(t[g]))==null||X!==h+R);)R++;if(R>h-o){const ae=t[r];for(;o<h;)e.insertBefore(n[o++],ae)}else e.replaceChild(n[o++],t[r++])}else r++;else t[r++].remove()}}}const J="_$DX_DELEGATE";function Ee(e,t,n,s={}){let l;return ge(i=>{l=i,t===document?e():A(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{l(),t.textContent=""}}function W(e,t,n,s){let l;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},r=()=>(l||(l=i())).cloneNode(!0);return r.cloneNode=r,r}function Ce(e,t=window.document){const n=t[J]||(t[J]=new Set);for(let s=0,l=e.length;s<l;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,me))}}function A(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return k(e,t,s,n);E(l=>k(e,t(),l,n),s)}function me(e){let t=e.target;const n=`$$${e.type}`,s=e.target,l=e.currentTarget,i=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),r=()=>{const f=t[n];if(f&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?f.call(t,u,e):f.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},o=()=>{for(;r()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const f=e.composedPath();i(f[0]);for(let u=0;u<f.length-2&&(t=f[u],!!r());u++){if(t._$host){t=t._$host,o();break}if(t.parentNode===l)break}}else o();i(s)}function k(e,t,n,s,l){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,r=s!==void 0;if(e=r&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(r){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=S(e,n,s,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=S(e,n,s);else{if(i==="function")return E(()=>{let o=t();for(;typeof o=="function";)o=o();n=k(e,o,n,s)}),()=>n;if(Array.isArray(t)){const o=[],f=n&&Array.isArray(n);if(K(o,t,n,l))return E(()=>n=k(e,o,n,s,!0)),()=>n;if(o.length===0){if(n=S(e,n,s),r)return n}else f?n.length===0?Z(e,o,s):ve(e,n,o):(n&&S(e),Z(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(r)return n=S(e,n,s,t);S(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function K(e,t,n,s){let l=!1;for(let i=0,r=t.length;i<r;i++){let o=t[i],f=n&&n[e.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))l=K(e,o,f)||l;else if(u==="function")if(s){for(;typeof o=="function";)o=o();l=K(e,Array.isArray(o)?o:[o],Array.isArray(f)?f:[f])||l}else e.push(o),l=!0;else{const h=String(o);f&&f.nodeType===3&&f.data===h?e.push(f):e.push(document.createTextNode(h))}}return l}function Z(e,t,n=null){for(let s=0,l=t.length;s<l;s++)e.insertBefore(t[s],n)}function S(e,t,n,s){if(n===void 0)return e.textContent="";const l=s||document.createTextNode("");if(t.length){let i=!1;for(let r=t.length-1;r>=0;r--){const o=t[r];if(l!==o){const f=o.parentNode===e;!i&&!r?f?e.replaceChild(l,o):e.insertBefore(l,n):f&&o.remove()}else i=!0}}else e.insertBefore(l,n);return[l]}const V=Symbol("store-raw"),$=Symbol("store-node"),p=Symbol("store-has"),oe=Symbol("store-self");function re(e){let t=e[P];if(!t&&(Object.defineProperty(e,P,{value:t=new Proxy(e,_e)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,i=n.length;l<i;l++){const r=n[l];s[r].get&&Object.defineProperty(e,r,{enumerable:s[r].enumerable,get:s[r].get.bind(t)})}}return t}function D(e){let t;return e!=null&&typeof e=="object"&&(e[P]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function m(e,t=new Set){let n,s,l,i;if(n=e!=null&&e[V])return n;if(!D(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,o=e.length;r<o;r++)l=e[r],(s=m(l,t))!==l&&(e[r]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let f=0,u=r.length;f<u;f++)i=r[f],!o[i].get&&(l=e[i],(s=m(l,t))!==l&&(e[i]=s))}return e}function L(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function x(e,t,n){if(e[t])return e[t];const[s,l]=pe(n,{equals:!1,internal:!0});return s.$=l,e[t]=s}function xe(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===P||t===$||(delete n.value,delete n.writable,n.get=()=>e[P][t]),n}function fe(e){M()&&x(L(e,$),oe)()}function Te(e){return fe(e),Reflect.ownKeys(e)}const _e={get(e,t,n){if(t===V)return e;if(t===P)return n;if(t===q)return fe(e),n;const s=L(e,$),l=s[t];let i=l?l():e[t];if(t===$||t===p||t==="__proto__")return i;if(!l){const r=Object.getOwnPropertyDescriptor(e,t);M()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(r&&r.get)&&(i=x(s,t,i)())}return D(i)?re(i):i},has(e,t){return t===V||t===P||t===q||t===$||t===p||t==="__proto__"?!0:(M()&&x(L(e,p),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Te,getOwnPropertyDescriptor:xe};function H(e,t,n,s=!1){if(!s&&e[t]===n)return;const l=e[t],i=e.length;n===void 0?(delete e[t],e[p]&&e[p][t]&&l!==void 0&&e[p][t].$()):(e[t]=n,e[p]&&e[p][t]&&l===void 0&&e[p][t].$());let r=L(e,$),o;if((o=x(r,t,l))&&o.$(()=>n),Array.isArray(e)&&e.length!==i){for(let f=e.length;f<i;f++)(o=r[f])&&o.$();(o=x(r,"length",i))&&o.$(e.length)}(o=r[oe])&&o.$()}function ue(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const l=n[s];H(e,l,t[l])}}function Ne(e,t){if(typeof t=="function"&&(t=t(e)),t=m(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const l=t[n];e[n]!==l&&H(e,n,l)}H(e,"length",s)}else ue(e,t)}function v(e,t,n=[]){let s,l=e;if(t.length>1){s=t.shift();const r=typeof s,o=Array.isArray(e);if(Array.isArray(s)){for(let f=0;f<s.length;f++)v(e,[s[f]].concat(t),n);return}else if(o&&r==="function"){for(let f=0;f<e.length;f++)s(e[f],f)&&v(e,[f].concat(t),n);return}else if(o&&r==="object"){const{from:f=0,to:u=e.length-1,by:h=1}=s;for(let g=f;g<=u;g+=h)v(e,[g].concat(t),n);return}else if(t.length>1){v(e[s],t,[s].concat(n));return}l=e[s],n=[s].concat(n)}let i=t[0];typeof i=="function"&&(i=i(l,n),i===l)||s===void 0&&i==null||(i=m(i),s===void 0||D(l)&&D(i)&&!Array.isArray(i)?ue(l,i):H(e,s,i))}function je(...[e,t]){const n=m(e||{}),s=Array.isArray(n),l=re(n);function i(...r){be(()=>{s&&r.length===1?Ne(n,r[0]):v(n,r)})}return[l,i]}var ke=W("<div><p>Playhead Position: </p><p>Status: </p><button>Play</button><button>Pause"),ce=W("<div>"),De=W("<div><div>");const[y,U]=je({clipSlice:[{start:1,end:2,audioUrl:"./src/assets/1sec.mp3",audio:new Audio("/src/assets/1sec.mp3")},{start:4,end:6,audioUrl:"./assets/2sec.mp3",audio:new Audio("/src/assets/2sec.mp3")}],globalPlayHeadPosition:3,isPlaying:!1,trackDuration:10}),Le=()=>U("isPlaying",!0),He=()=>U("isPlaying",!1);function Ue(){return(()=>{var e=ke(),t=e.firstChild;t.firstChild;var n=t.nextSibling;n.firstChild;var s=n.nextSibling,l=s.nextSibling;return A(t,()=>y.globalPlayHeadPosition,null),A(n,()=>y.isPlaying?"Playing":"Paused",null),s.$$click=Le,l.$$click=He,e})()}function Be(e){return(()=>{var t=ce();return t.style.setProperty("position","absolute"),t.style.setProperty("height","inherit"),t.style.setProperty("background-color","red"),t.style.setProperty("opacity","0.5"),t.style.setProperty("border","1px solid, black"),A(t,()=>e.audioUrl),E(n=>{var s=e.start*100+"px",l=(e.end-e.start)*100+"px";return s!==n.e&&((n.e=s)!=null?t.style.setProperty("left",s):t.style.removeProperty("left")),l!==n.t&&((n.t=l)!=null?t.style.setProperty("width",l):t.style.removeProperty("width")),n},{e:void 0,t:void 0}),t})()}function Ie(){let e=null;return Y(()=>{y.isPlaying?e=setInterval(()=>{U("globalPlayHeadPosition",y.globalPlayHeadPosition+.01)},10):e&&clearInterval(e),we(()=>{e&&clearInterval(e)})}),Y(()=>{y.clipSlice.forEach(t=>{y.globalPlayHeadPosition>=t.start&&y.globalPlayHeadPosition<=t.end&&y.isPlaying?(Math.abs(y.globalPlayHeadPosition-t.start-t.audio.currentTime)>.3&&(t.audio.currentTime=y.globalPlayHeadPosition-t.start),t.audio.paused&&(console.log("Playing clip",t.audio),t.audio.play())):t.audio.pause()})}),(()=>{var t=De(),n=t.firstChild;return t.$$click=s=>{const l=s.currentTarget.getBoundingClientRect(),r=(s.clientX-l.left)/l.width;U("globalPlayHeadPosition",y.trackDuration*r)},t.style.setProperty("position","relative"),t.style.setProperty("height","100px"),t.style.setProperty("border","1px solid black"),n.style.setProperty("position","absolute"),n.style.setProperty("width","2px"),n.style.setProperty("height","inherit"),n.style.setProperty("background-color","green"),A(t,()=>y.clipSlice.map(s=>j(Be,{get start(){return s.start},get end(){return s.end},get audioUrl(){return s.audioUrl}})),null),E(s=>{var l=y.trackDuration*100+"px",i=y.globalPlayHeadPosition*100+"px";return l!==s.e&&((s.e=l)!=null?t.style.setProperty("width",l):t.style.removeProperty("width")),i!==s.t&&((s.t=i)!=null?n.style.setProperty("left",i):n.style.removeProperty("left")),s},{e:void 0,t:void 0}),t})()}const Re=()=>(()=>{var e=ce();return A(e,j(Ue,{}),null),A(e,j(Ie,{}),null),e})();Ce(["click"]);const Fe=document.getElementById("root");Ee(()=>j(Re,{}),Fe);
